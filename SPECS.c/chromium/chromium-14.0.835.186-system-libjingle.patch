diff -up chromium-14.0.835.186/build/linux/system.gyp.jingle chromium-14.0.835.186/build/linux/system.gyp
--- chromium-14.0.835.186/build/linux/system.gyp.jingle	2011-09-27 10:52:11.042004070 -0400
+++ chromium-14.0.835.186/build/linux/system.gyp	2011-09-27 10:52:18.874004070 -0400
@@ -343,6 +343,86 @@
       }]]
     },
     {
+      'target_name': 'jingle',
+      'type': 'settings',
+      'conditions': [
+        ['_toolset=="target"', {
+          'direct_dependent_settings': {
+            'cflags': [
+              '<!@(pkg-config --cflags jinglebase-0.6)',
+            ],
+          },
+          'link_settings': {
+            'ldflags': [
+              '<!@(pkg-config --libs-only-L --libs-only-other jinglebase-0.6)',
+            ],
+            'libraries': [
+              '<!@(pkg-config --libs-only-l jinglebase-0.6)',
+            ],
+          },
+      }]]
+    },
+    {
+      'target_name': 'jinglep2p',
+      'type': 'settings',
+      'conditions': [
+        ['_toolset=="target"', {
+          'direct_dependent_settings': {
+            'cflags': [
+              '<!@(pkg-config --cflags jinglep2p-0.6)',
+            ],
+          },
+          'link_settings': {
+            'ldflags': [
+              '<!@(pkg-config --libs-only-L --libs-only-other jinglep2p-0.6)',
+            ],
+            'libraries': [
+              '<!@(pkg-config --libs-only-l jinglep2p-0.6)',
+            ],
+          },
+      }]]
+    },
+    {
+      'target_name': 'jinglesessionphone',
+      'type': 'settings',
+      'conditions': [
+        ['_toolset=="target"', {
+          'direct_dependent_settings': {
+            'cflags': [
+              '<!@(pkg-config --cflags jinglesessionphone-0.6)',
+            ],
+          },
+          'link_settings': {
+            'ldflags': [
+              '<!@(pkg-config --libs-only-L --libs-only-other jinglesessionphone-0.6)',
+            ],
+            'libraries': [
+              '<!@(pkg-config --libs-only-l jinglesessionphone-0.6)',
+            ],
+          },
+      }]]
+    },
+    {
+      'target_name': 'jinglesessiontunnel',
+      'type': 'settings',
+      'conditions': [
+        ['_toolset=="target"', {
+          'direct_dependent_settings': {
+            'cflags': [
+              '<!@(pkg-config --cflags jinglesessiontunnel-0.6)',
+            ],
+          },
+          'link_settings': {
+            'ldflags': [
+              '<!@(pkg-config --libs-only-L --libs-only-other jinglesessiontunnel-0.6)',
+            ],
+            'libraries': [
+              '<!@(pkg-config --libs-only-l jinglesessiontunnel-0.6)',
+            ],
+          },
+      }]]
+    },
+    {
       'target_name': 'gnome_keyring',
       'type': 'settings',
       'conditions': [
diff -up chromium-14.0.835.186/chrome/browser/autofill/autofill_download.cc.jingle chromium-14.0.835.186/chrome/browser/autofill/autofill_download.cc
--- chromium-14.0.835.186/chrome/browser/autofill/autofill_download.cc.jingle	2011-09-20 04:26:58.000000000 -0400
+++ chromium-14.0.835.186/chrome/browser/autofill/autofill_download.cc	2011-09-27 10:52:18.876004070 -0400
@@ -20,7 +20,7 @@
 #include "chrome/common/pref_names.h"
 #include "googleurl/src/gurl.h"
 #include "net/http/http_response_headers.h"
-#include "third_party/libjingle/source/talk/xmllite/xmlparser.h"
+#include <talk/xmllite/xmlparser.h>
 
 namespace {
 const char kAutofillQueryServerRequestUrl[] =
diff -up chromium-14.0.835.186/chrome/browser/autofill/autofill_xml_parser.cc.jingle chromium-14.0.835.186/chrome/browser/autofill/autofill_xml_parser.cc
--- chromium-14.0.835.186/chrome/browser/autofill/autofill_xml_parser.cc.jingle	2011-09-20 04:26:58.000000000 -0400
+++ chromium-14.0.835.186/chrome/browser/autofill/autofill_xml_parser.cc	2011-09-27 10:52:18.891004070 -0400
@@ -8,7 +8,7 @@
 #include <string.h>
 
 #include "base/logging.h"
-#include "third_party/libjingle/overrides/talk/xmllite/qname.h"
+#include <talk/xmllite/qname.h>
 
 AutofillXmlParser::AutofillXmlParser()
     : succeeded_(true) {
diff -up chromium-14.0.835.186/chrome/browser/autofill/autofill_xml_parser.h.jingle chromium-14.0.835.186/chrome/browser/autofill/autofill_xml_parser.h
--- chromium-14.0.835.186/chrome/browser/autofill/autofill_xml_parser.h.jingle	2011-09-27 10:52:18.828004070 -0400
+++ chromium-14.0.835.186/chrome/browser/autofill/autofill_xml_parser.h	2011-09-27 10:52:18.900004070 -0400
@@ -13,7 +13,7 @@
 #include "chrome/browser/autofill/field_types.h"
 #include "chrome/browser/autofill/form_structure.h"
 #include <expat.h>
-#include "third_party/libjingle/source/talk/xmllite/xmlparser.h"
+#include <talk/xmllite/xmlparser.h>
 
 // The base class that contains common functionality between
 // AutofillQueryXmlParser and AutofillUploadXmlParser.
diff -up chromium-14.0.835.186/chrome/browser/autofill/autofill_xml_parser_unittest.cc.jingle chromium-14.0.835.186/chrome/browser/autofill/autofill_xml_parser_unittest.cc
--- chromium-14.0.835.186/chrome/browser/autofill/autofill_xml_parser_unittest.cc.jingle	2011-09-20 04:26:58.000000000 -0400
+++ chromium-14.0.835.186/chrome/browser/autofill/autofill_xml_parser_unittest.cc	2011-09-27 10:52:18.906004070 -0400
@@ -8,7 +8,7 @@
 #include "chrome/browser/autofill/autofill_xml_parser.h"
 #include "chrome/browser/autofill/field_types.h"
 #include "testing/gtest/include/gtest/gtest.h"
-#include "third_party/libjingle/source/talk/xmllite/xmlparser.h"
+#include <talk/xmllite/xmlparser.h>
 
 namespace {
 
diff -up chromium-14.0.835.186/chrome/browser/autofill/form_structure.cc.jingle chromium-14.0.835.186/chrome/browser/autofill/form_structure.cc
--- chromium-14.0.835.186/chrome/browser/autofill/form_structure.cc.jingle	2011-09-20 04:26:58.000000000 -0400
+++ chromium-14.0.835.186/chrome/browser/autofill/form_structure.cc	2011-09-27 10:52:18.917004070 -0400
@@ -16,7 +16,7 @@
 #include "chrome/browser/autofill/autofill_xml_parser.h"
 #include "chrome/browser/autofill/field_types.h"
 #include "chrome/browser/autofill/form_field.h"
-#include "third_party/libjingle/source/talk/xmllite/xmlelement.h"
+#include <talk/xmllite/xmlelement.h>
 #include "webkit/glue/form_data.h"
 #include "webkit/glue/form_data_predictions.h"
 #include "webkit/glue/form_field.h"
@@ -220,7 +220,7 @@ bool FormStructure::EncodeQueryRequest(
     if (processed_forms.find(signature) != processed_forms.end())
       continue;
     processed_forms.insert(signature);
-    scoped_ptr<buzz::XmlElement> encompassing_xml_element(
+    talk_base::scoped_ptr<buzz::XmlElement> encompassing_xml_element(
         new buzz::XmlElement(buzz::QName(kXMLElementForm)));
     encompassing_xml_element->SetAttr(buzz::QName(kAttributeSignature),
                                       signature);
diff -up chromium-14.0.835.186/chrome/browser/chromeos/login/google_authenticator.cc.jingle chromium-14.0.835.186/chrome/browser/chromeos/login/google_authenticator.cc
--- chromium-14.0.835.186/chrome/browser/chromeos/login/google_authenticator.cc.jingle	2011-09-20 04:27:00.000000000 -0400
+++ chromium-14.0.835.186/chrome/browser/chromeos/login/google_authenticator.cc	2011-09-27 10:52:18.924004070 -0400
@@ -32,7 +32,7 @@
 #include "net/base/load_flags.h"
 #include "net/base/net_errors.h"
 #include "net/url_request/url_request_status.h"
-#include "third_party/libjingle/source/talk/base/urlencode.h"
+#include <talk/base/urlencode.h>
 
 using base::Time;
 using base::TimeDelta;
diff -up chromium-14.0.835.186/chrome/browser/chromeos/login/online_attempt.cc.jingle chromium-14.0.835.186/chrome/browser/chromeos/login/online_attempt.cc
--- chromium-14.0.835.186/chrome/browser/chromeos/login/online_attempt.cc.jingle	2011-09-20 04:27:00.000000000 -0400
+++ chromium-14.0.835.186/chrome/browser/chromeos/login/online_attempt.cc	2011-09-27 10:52:18.933004070 -0400
@@ -20,7 +20,7 @@
 #include "net/base/load_flags.h"
 #include "net/base/net_errors.h"
 #include "net/url_request/url_request_status.h"
-#include "third_party/libjingle/source/talk/base/urlencode.h"
+#include <talk/base/urlencode.h>
 
 namespace {
 
diff -up chromium-14.0.835.186/chrome/browser/chromeos/login/parallel_authenticator.cc.jingle chromium-14.0.835.186/chrome/browser/chromeos/login/parallel_authenticator.cc
--- chromium-14.0.835.186/chrome/browser/chromeos/login/parallel_authenticator.cc.jingle	2011-09-20 04:27:00.000000000 -0400
+++ chromium-14.0.835.186/chrome/browser/chromeos/login/parallel_authenticator.cc	2011-09-27 10:52:18.943004069 -0400
@@ -37,7 +37,7 @@
 #include "net/base/load_flags.h"
 #include "net/base/net_errors.h"
 #include "net/url_request/url_request_status.h"
-#include "third_party/libjingle/source/talk/base/urlencode.h"
+#include <talk/base/urlencode.h>
 
 using base::Time;
 using base::TimeDelta;
diff -up chromium-14.0.835.186/chrome/chrome_browser.gypi.jingle chromium-14.0.835.186/chrome/chrome_browser.gypi
--- chromium-14.0.835.186/chrome/chrome_browser.gypi.jingle	2011-09-27 10:52:11.107004070 -0400
+++ chromium-14.0.835.186/chrome/chrome_browser.gypi	2011-09-27 10:52:19.034004069 -0400
@@ -41,7 +41,7 @@
         '../third_party/expat/expat.gyp:expat',
         '../third_party/hunspell/hunspell.gyp:hunspell',
         '../build/linux/system.gyp:icu',
-        '../third_party/libjingle/libjingle.gyp:libjingle',
+        '../build/linux/system.gyp:jingle',
         '../third_party/libphonenumber/libphonenumber.gyp:libphonenumber',
         '../third_party/libphonenumber/libphonenumber.gyp:phonenumber_proto',
         '../third_party/libxml/libxml.gyp:libxml',
diff -up chromium-14.0.835.186/chrome/chrome.gyp.jingle chromium-14.0.835.186/chrome/chrome.gyp
--- chromium-14.0.835.186/chrome/chrome.gyp.jingle	2011-09-27 10:52:18.800004069 -0400
+++ chromium-14.0.835.186/chrome/chrome.gyp	2011-09-27 10:52:19.060004070 -0400
@@ -842,7 +842,7 @@
         '../net/net.gyp:net',
         '../printing/printing.gyp:printing',
         '../skia/skia.gyp:skia',
-        '../third_party/libjingle/libjingle.gyp:libjingle',
+        '../build/linux/system.gyp:jingle',
       ],
       'sources': [
         'service/service_child_process_host.cc',
diff -up chromium-14.0.835.186/chrome/chrome_tests.gypi.jingle chromium-14.0.835.186/chrome/chrome_tests.gypi
--- chromium-14.0.835.186/chrome/chrome_tests.gypi.jingle	2011-09-27 10:52:15.704004068 -0400
+++ chromium-14.0.835.186/chrome/chrome_tests.gypi	2011-09-27 10:52:19.087004069 -0400
@@ -1235,7 +1235,7 @@
         '../third_party/bzip2/bzip2.gyp:bzip2',
         '../third_party/cld/cld.gyp:cld',
         '../build/linux/system.gyp:icu',
-        '../third_party/libjingle/libjingle.gyp:libjingle',
+        '../build/linux/system.gyp:jingle',
         '../third_party/libxml/libxml.gyp:libxml',
         '../ui/gfx/gl/gl.gyp:gl',
         '../ui/ui.gyp:ui_resources',
@@ -3381,7 +3381,7 @@
         '../testing/gmock.gyp:gmock',
         '../testing/gtest.gyp:gtest',
         '../third_party/bzip2/bzip2.gyp:bzip2',
-        '../third_party/libjingle/libjingle.gyp:libjingle',
+        '../build/linux/system.gyp:jingle',
         'profile_import',
         'syncapi_core',
         'sync_notifier',
diff -up chromium-14.0.835.186/content/content_renderer.gypi.jingle chromium-14.0.835.186/content/content_renderer.gypi
--- chromium-14.0.835.186/content/content_renderer.gypi.jingle	2011-09-27 10:52:17.459006088 -0400
+++ chromium-14.0.835.186/content/content_renderer.gypi	2011-09-27 10:52:19.106004071 -0400
@@ -15,8 +15,8 @@
         '../skia/skia.gyp:skia',
         '../third_party/ffmpeg/ffmpeg.gyp:ffmpeg',
         '../build/linux/system.gyp:icu',
-        '../third_party/libjingle/libjingle.gyp:libjingle',
-        '../third_party/libjingle/libjingle.gyp:libjingle_p2p',
+        '../build/linux/system.gyp:jingle',
+        '../build/linux/system.gyp:jinglep2p',
         '../third_party/npapi/npapi.gyp:npapi',
         '../third_party/WebKit/Source/WebKit/chromium/WebKit.gyp:webkit',
         '../ui/gfx/surface/surface.gyp:surface',
diff -up chromium-14.0.835.186/content/renderer/media/rtc_video_decoder.h.jingle chromium-14.0.835.186/content/renderer/media/rtc_video_decoder.h
--- chromium-14.0.835.186/content/renderer/media/rtc_video_decoder.h.jingle	2011-09-20 04:26:11.000000000 -0400
+++ chromium-14.0.835.186/content/renderer/media/rtc_video_decoder.h	2011-09-27 10:52:19.121004070 -0400
@@ -13,7 +13,7 @@
 #include "media/base/filters.h"
 #include "media/base/video_frame.h"
 #include "media/filters/decoder_base.h"
-#include "third_party/libjingle/source/talk/session/phone/mediachannel.h"
+#include <talk/session/phone/mediachannel.h>
 
 class RTCVideoDecoder
     : public media::VideoDecoder,
diff -up chromium-14.0.835.186/content/renderer/p2p/ipc_network_manager.h.jingle chromium-14.0.835.186/content/renderer/p2p/ipc_network_manager.h
--- chromium-14.0.835.186/content/renderer/p2p/ipc_network_manager.h.jingle	2011-09-20 04:26:11.000000000 -0400
+++ chromium-14.0.835.186/content/renderer/p2p/ipc_network_manager.h	2011-09-27 10:52:19.126004069 -0400
@@ -11,7 +11,7 @@
 #include "base/compiler_specific.h"
 #include "content/renderer/p2p/socket_dispatcher.h"
 #include "net/base/net_util.h"
-#include "third_party/libjingle/source/talk/base/network.h"
+#include <talk/base/network.h>
 
 // IpcNetworkManager is a NetworkManager for libjingle that gets a
 // list of network interfaces from the browser.
diff -up chromium-14.0.835.186/content/renderer/p2p/ipc_socket_factory.cc.jingle chromium-14.0.835.186/content/renderer/p2p/ipc_socket_factory.cc
--- chromium-14.0.835.186/content/renderer/p2p/ipc_socket_factory.cc.jingle	2011-09-20 04:26:11.000000000 -0400
+++ chromium-14.0.835.186/content/renderer/p2p/ipc_socket_factory.cc	2011-09-27 10:52:19.137004070 -0400
@@ -10,7 +10,7 @@
 #include "content/renderer/p2p/socket_client.h"
 #include "content/renderer/p2p/socket_dispatcher.h"
 #include "jingle/glue/utils.h"
-#include "third_party/libjingle/source/talk/base/asyncpacketsocket.h"
+#include <talk/base/asyncpacketsocket.h>
 
 namespace {
 
diff -up chromium-14.0.835.186/content/renderer/p2p/ipc_socket_factory.h.jingle chromium-14.0.835.186/content/renderer/p2p/ipc_socket_factory.h
--- chromium-14.0.835.186/content/renderer/p2p/ipc_socket_factory.h.jingle	2011-09-20 04:26:11.000000000 -0400
+++ chromium-14.0.835.186/content/renderer/p2p/ipc_socket_factory.h	2011-09-27 10:52:19.145004070 -0400
@@ -6,7 +6,7 @@
 #define CONTENT_RENDERER_P2P_IPC_SOCKET_FACTORY_H_
 
 #include "base/basictypes.h"
-#include "third_party/libjingle/source/talk/base/packetsocketfactory.h"
+#include <talk/base/packetsocketfactory.h>
 
 class P2PSocketDispatcher;
 
diff -up chromium-14.0.835.186/content/renderer/p2p/p2p_transport_impl.cc.jingle chromium-14.0.835.186/content/renderer/p2p/p2p_transport_impl.cc
--- chromium-14.0.835.186/content/renderer/p2p/p2p_transport_impl.cc.jingle	2011-09-20 04:26:11.000000000 -0400
+++ chromium-14.0.835.186/content/renderer/p2p/p2p_transport_impl.cc	2011-09-27 10:52:19.190004075 -0400
@@ -13,8 +13,8 @@
 #include "jingle/glue/pseudotcp_adapter.h"
 #include "jingle/glue/thread_wrapper.h"
 #include "net/base/net_errors.h"
-#include "third_party/libjingle/source/talk/p2p/base/p2ptransportchannel.h"
-#include "third_party/libjingle/source/talk/p2p/client/basicportallocator.h"
+#include <talk/p2p/base/p2ptransportchannel.h>
+#include <talk/p2p/client/basicportallocator.h>
 
 P2PTransportImpl::P2PTransportImpl(
     talk_base::NetworkManager* network_manager,
diff -up chromium-14.0.835.186/content/renderer/p2p/p2p_transport_impl.h.jingle chromium-14.0.835.186/content/renderer/p2p/p2p_transport_impl.h
--- chromium-14.0.835.186/content/renderer/p2p/p2p_transport_impl.h.jingle	2011-09-20 04:26:11.000000000 -0400
+++ chromium-14.0.835.186/content/renderer/p2p/p2p_transport_impl.h	2011-09-27 10:52:19.221004067 -0400
@@ -10,7 +10,7 @@
 #include "base/basictypes.h"
 #include "base/memory/scoped_ptr.h"
 #include "net/base/completion_callback.h"
-#include "third_party/libjingle/source/talk/base/sigslot.h"
+#include <talk/base/sigslot.h>
 #include "webkit/glue/p2p_transport.h"
 
 class P2PSocketDispatcher;
diff -up chromium-14.0.835.186/jingle/glue/channel_socket_adapter.cc.jingle chromium-14.0.835.186/jingle/glue/channel_socket_adapter.cc
--- chromium-14.0.835.186/jingle/glue/channel_socket_adapter.cc.jingle	2011-09-20 04:26:41.000000000 -0400
+++ chromium-14.0.835.186/jingle/glue/channel_socket_adapter.cc	2011-09-27 10:52:19.233004070 -0400
@@ -10,7 +10,7 @@
 #include "base/message_loop.h"
 #include "net/base/io_buffer.h"
 #include "net/base/net_errors.h"
-#include "third_party/libjingle/source/talk/p2p/base/transportchannel.h"
+#include <talk/p2p/base/transportchannel.h>
 
 namespace jingle_glue {
 
diff -up chromium-14.0.835.186/jingle/glue/channel_socket_adapter.h.jingle chromium-14.0.835.186/jingle/glue/channel_socket_adapter.h
--- chromium-14.0.835.186/jingle/glue/channel_socket_adapter.h.jingle	2011-09-20 04:26:41.000000000 -0400
+++ chromium-14.0.835.186/jingle/glue/channel_socket_adapter.h	2011-09-27 10:52:19.241004070 -0400
@@ -6,8 +6,8 @@
 #define JINGLE_GLUE_CHANNEL_SOCKET_ADAPTER_H_
 
 #include "net/socket/socket.h"
-#include "third_party/libjingle/source/talk/base/socketaddress.h"
-#include "third_party/libjingle/source/talk/base/sigslot.h"
+#include <talk/base/socketaddress.h>
+#include <talk/base/sigslot.h>
 
 class MessageLoop;
 
diff -up chromium-14.0.835.186/jingle/glue/channel_socket_adapter_unittest.cc.jingle chromium-14.0.835.186/jingle/glue/channel_socket_adapter_unittest.cc
--- chromium-14.0.835.186/jingle/glue/channel_socket_adapter_unittest.cc.jingle	2011-09-20 04:26:41.000000000 -0400
+++ chromium-14.0.835.186/jingle/glue/channel_socket_adapter_unittest.cc	2011-09-27 10:52:19.251004070 -0400
@@ -11,7 +11,7 @@
 #include "net/socket/socket.h"
 #include "testing/gmock/include/gmock/gmock.h"
 #include "testing/gtest/include/gtest/gtest.h"
-#include "third_party/libjingle/source/talk/p2p/base/transportchannel.h"
+#include <talk/p2p/base/transportchannel.h>
 
 using net::IOBuffer;
 
diff -up chromium-14.0.835.186/jingle/glue/fake_network_manager.cc.jingle chromium-14.0.835.186/jingle/glue/fake_network_manager.cc
--- chromium-14.0.835.186/jingle/glue/fake_network_manager.cc.jingle	2011-09-20 04:26:41.000000000 -0400
+++ chromium-14.0.835.186/jingle/glue/fake_network_manager.cc	2011-09-27 10:52:19.256004070 -0400
@@ -8,7 +8,7 @@
 #include "base/message_loop.h"
 #include "net/base/ip_endpoint.h"
 #include "jingle/glue/utils.h"
-#include "third_party/libjingle/source/talk/base/socketaddress.h"
+#include <talk/base/socketaddress.h>
 
 namespace jingle_glue {
 
diff -up chromium-14.0.835.186/jingle/glue/fake_network_manager.h.jingle chromium-14.0.835.186/jingle/glue/fake_network_manager.h
--- chromium-14.0.835.186/jingle/glue/fake_network_manager.h.jingle	2011-09-20 04:26:41.000000000 -0400
+++ chromium-14.0.835.186/jingle/glue/fake_network_manager.h	2011-09-27 10:52:19.264004069 -0400
@@ -11,7 +11,7 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/task.h"
 #include "net/base/net_util.h"
-#include "third_party/libjingle/source/talk/base/network.h"
+#include <talk/base/network.h>
 
 namespace jingle_glue {
 
diff -up chromium-14.0.835.186/jingle/glue/fake_socket_factory.cc.jingle chromium-14.0.835.186/jingle/glue/fake_socket_factory.cc
--- chromium-14.0.835.186/jingle/glue/fake_socket_factory.cc.jingle	2011-09-20 04:26:41.000000000 -0400
+++ chromium-14.0.835.186/jingle/glue/fake_socket_factory.cc	2011-09-27 10:52:19.275004070 -0400
@@ -6,7 +6,7 @@
 
 #include "base/message_loop.h"
 #include "jingle/glue/utils.h"
-#include "third_party/libjingle/source/talk/base/asyncsocket.h"
+#include <talk/base/asyncsocket.h>
 
 namespace jingle_glue {
 
diff -up chromium-14.0.835.186/jingle/glue/fake_socket_factory.h.jingle chromium-14.0.835.186/jingle/glue/fake_socket_factory.h
--- chromium-14.0.835.186/jingle/glue/fake_socket_factory.h.jingle	2011-09-20 04:26:41.000000000 -0400
+++ chromium-14.0.835.186/jingle/glue/fake_socket_factory.h	2011-09-27 10:52:19.285004070 -0400
@@ -13,8 +13,8 @@
 #include "base/memory/ref_counted.h"
 #include "base/threading/non_thread_safe.h"
 #include "net/base/ip_endpoint.h"
-#include "third_party/libjingle/source/talk/base/asyncpacketsocket.h"
-#include "third_party/libjingle/source/talk/base/packetsocketfactory.h"
+#include <talk/base/asyncpacketsocket.h>
+#include <talk/base/packetsocketfactory.h>
 
 class MessageLoop;
 
diff -up chromium-14.0.835.186/jingle/glue/jingle_glue_mock_objects.h.jingle chromium-14.0.835.186/jingle/glue/jingle_glue_mock_objects.h
--- chromium-14.0.835.186/jingle/glue/jingle_glue_mock_objects.h.jingle	2011-09-20 04:26:41.000000000 -0400
+++ chromium-14.0.835.186/jingle/glue/jingle_glue_mock_objects.h	2011-09-27 10:52:19.291004070 -0400
@@ -6,7 +6,7 @@
 #define JINGLE_GLUE_JINGLE_GLUE_MOCK_OBJECTS_H_
 
 #include "testing/gmock/include/gmock/gmock.h"
-#include "third_party/libjingle/source/talk/base/stream.h"
+#include <talk/base/stream.h>
 
 namespace jingle_glue {
 
diff -up chromium-14.0.835.186/jingle/glue/pseudotcp_adapter.h.jingle chromium-14.0.835.186/jingle/glue/pseudotcp_adapter.h
--- chromium-14.0.835.186/jingle/glue/pseudotcp_adapter.h.jingle	2011-09-20 04:26:41.000000000 -0400
+++ chromium-14.0.835.186/jingle/glue/pseudotcp_adapter.h	2011-09-27 10:52:19.299004069 -0400
@@ -13,7 +13,7 @@
 #include "base/threading/non_thread_safe.h"
 #include "net/base/net_log.h"
 #include "net/socket/stream_socket.h"
-#include "third_party/libjingle/source/talk/p2p/base/pseudotcp.h"
+#include <talk/p2p/base/pseudotcp.h>
 
 namespace jingle_glue {
 
diff -up chromium-14.0.835.186/jingle/glue/thread_wrapper.h.jingle chromium-14.0.835.186/jingle/glue/thread_wrapper.h
--- chromium-14.0.835.186/jingle/glue/thread_wrapper.h.jingle	2011-09-20 04:26:41.000000000 -0400
+++ chromium-14.0.835.186/jingle/glue/thread_wrapper.h	2011-09-27 10:52:19.305004067 -0400
@@ -9,7 +9,7 @@
 
 #include "base/message_loop.h"
 #include "base/synchronization/lock.h"
-#include "third_party/libjingle/source/talk/base/thread.h"
+#include <talk/base/thread.h>
 
 class MessageLoop;
 
diff -up chromium-14.0.835.186/jingle/glue/utils.cc.jingle chromium-14.0.835.186/jingle/glue/utils.cc
--- chromium-14.0.835.186/jingle/glue/utils.cc.jingle	2011-09-20 04:26:41.000000000 -0400
+++ chromium-14.0.835.186/jingle/glue/utils.cc	2011-09-27 10:52:19.316004069 -0400
@@ -7,8 +7,8 @@
 #include "base/logging.h"
 #include "net/base/ip_endpoint.h"
 #include "net/base/net_util.h"
-#include "third_party/libjingle/source/talk/base/byteorder.h"
-#include "third_party/libjingle/source/talk/base/socketaddress.h"
+#include <talk/base/byteorder.h>
+#include <talk/base/socketaddress.h>
 
 namespace jingle_glue {
 
diff -up chromium-14.0.835.186/jingle/jingle.gyp.jingle chromium-14.0.835.186/jingle/jingle.gyp
--- chromium-14.0.835.186/jingle/jingle.gyp.jingle	2011-09-20 04:26:41.000000000 -0400
+++ chromium-14.0.835.186/jingle/jingle.gyp	2011-09-27 10:52:19.330004069 -0400
@@ -24,12 +24,10 @@
       'dependencies': [
         '../base/base.gyp:base',
         '../net/net.gyp:net',
-        '../third_party/libjingle/libjingle.gyp:libjingle',
-        '../third_party/libjingle/libjingle.gyp:libjingle_p2p',
+        '../build/linux/system.gyp:jingle',
       ],
       'export_dependent_settings': [
-        '../third_party/libjingle/libjingle.gyp:libjingle',
-        '../third_party/libjingle/libjingle.gyp:libjingle_p2p',
+        '../build/linux/system.gyp:jingle',
       ],
     },
     # A library for sending and receiving peer-issued notifications.
@@ -106,10 +104,10 @@
         '../build/temp_gyp/googleurl.gyp:googleurl',
         '../net/net.gyp:net',
         '../third_party/expat/expat.gyp:expat',
-        '../third_party/libjingle/libjingle.gyp:libjingle',
+        '../build/linux/system.gyp:jingle',
       ],
       'export_dependent_settings': [
-        '../third_party/libjingle/libjingle.gyp:libjingle',
+        '../build/linux/system.gyp:jingle',
       ],
       'conditions': [
         ['toolkit_uses_gtk == 1', {
@@ -187,7 +185,7 @@
         '../net/net.gyp:net_test_support',
         '../testing/gmock.gyp:gmock',
         '../testing/gtest.gyp:gtest',
-        '../third_party/libjingle/libjingle.gyp:libjingle',
+        '../build/linux/system.gyp:jingle',
       ],
     },
   ],
diff -up chromium-14.0.835.186/jingle/notifier/base/chrome_async_socket.h.jingle chromium-14.0.835.186/jingle/notifier/base/chrome_async_socket.h
--- chromium-14.0.835.186/jingle/notifier/base/chrome_async_socket.h.jingle	2011-09-20 04:26:40.000000000 -0400
+++ chromium-14.0.835.186/jingle/notifier/base/chrome_async_socket.h	2011-09-27 10:52:19.340004069 -0400
@@ -7,6 +7,8 @@
 #ifndef JINGLE_NOTIFIER_BASE_CHROME_ASYNC_SOCKET_H_
 #define JINGLE_NOTIFIER_BASE_CHROME_ASYNC_SOCKET_H_
 
+#include <talk/config.h>
+
 #if !defined(FEATURE_ENABLE_SSL)
 #error ChromeAsyncSocket expects FEATURE_ENABLE_SSL to be defined
 #endif
diff -up chromium-14.0.835.186/jingle/notifier/communicator/login_settings.h.jingle chromium-14.0.835.186/jingle/notifier/communicator/login_settings.h
--- chromium-14.0.835.186/jingle/notifier/communicator/login_settings.h.jingle	2011-09-20 04:26:40.000000000 -0400
+++ chromium-14.0.835.186/jingle/notifier/communicator/login_settings.h	2011-09-27 10:52:19.348004068 -0400
@@ -10,6 +10,7 @@
 #include "jingle/notifier/base/server_information.h"
 #include "jingle/notifier/communicator/xmpp_connection_generator.h"
 #include "net/url_request/url_request_context_getter.h"
+#include <talk/base/scoped_ptr.h>
 
 namespace buzz {
 class XmppClientSettings;
@@ -72,10 +73,10 @@ class LoginSettings {
   scoped_refptr<net::URLRequestContextGetter> request_context_getter_;
   const ServerList servers_;
   // Used to handle redirects
-  scoped_ptr<ServerInformation> server_override_;
+  talk_base::scoped_ptr<ServerInformation> server_override_;
 
-  scoped_ptr<buzz::XmppClientSettings> user_settings_;
-  scoped_ptr<ConnectionOptions> connection_options_;
+  talk_base::scoped_ptr<buzz::XmppClientSettings> user_settings_;
+  talk_base::scoped_ptr<ConnectionOptions> connection_options_;
   std::string auth_mechanism_;
 
   DISALLOW_COPY_AND_ASSIGN(LoginSettings);
diff -up chromium-14.0.835.186/jingle/notifier/listener/push_notifications_subscribe_task.cc.jingle chromium-14.0.835.186/jingle/notifier/listener/push_notifications_subscribe_task.cc
--- chromium-14.0.835.186/jingle/notifier/listener/push_notifications_subscribe_task.cc.jingle	2011-09-20 04:26:40.000000000 -0400
+++ chromium-14.0.835.186/jingle/notifier/listener/push_notifications_subscribe_task.cc	2011-09-27 10:52:19.356004069 -0400
@@ -39,7 +39,7 @@ bool PushNotificationsSubscribeTask::Han
 
 int PushNotificationsSubscribeTask::ProcessStart() {
   VLOG(1) << "Push notifications: Subscription task started.";
-  scoped_ptr<buzz::XmlElement> iq_stanza(
+  talk_base::scoped_ptr<buzz::XmlElement> iq_stanza(
       MakeSubscriptionMessage(subscriptions_, GetClient()->jid(),
                               task_id()));
   std::string stanza_str = XmlElementToString(*iq_stanza.get());
diff -up chromium-14.0.835.186/remoting/client/plugin/pepper_port_allocator_session.h.jingle chromium-14.0.835.186/remoting/client/plugin/pepper_port_allocator_session.h
--- chromium-14.0.835.186/remoting/client/plugin/pepper_port_allocator_session.h.jingle	2011-09-20 04:26:07.000000000 -0400
+++ chromium-14.0.835.186/remoting/client/plugin/pepper_port_allocator_session.h	2011-09-27 10:52:19.365004069 -0400
@@ -7,7 +7,7 @@
 
 #include "base/message_loop.h"
 #include "ppapi/cpp/completion_callback.h"
-#include "third_party/libjingle/source/talk/p2p/client/basicportallocator.h"
+#include <talk/p2p/client/basicportallocator.h>
 
 namespace remoting {
 
diff -up chromium-14.0.835.186/remoting/host/heartbeat_sender.cc.jingle chromium-14.0.835.186/remoting/host/heartbeat_sender.cc
--- chromium-14.0.835.186/remoting/host/heartbeat_sender.cc.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/host/heartbeat_sender.cc	2011-09-27 10:52:19.373004070 -0400
@@ -13,8 +13,8 @@
 #include "remoting/jingle_glue/iq_request.h"
 #include "remoting/jingle_glue/jingle_thread.h"
 #include "remoting/jingle_glue/signal_strategy.h"
-#include "third_party/libjingle/source/talk/xmllite/xmlelement.h"
-#include "third_party/libjingle/source/talk/xmpp/constants.h"
+#include <talk/xmllite/xmlelement.h>
+#include <talk/xmpp/constants.h>
 
 using buzz::QName;
 using buzz::XmlElement;
diff -up chromium-14.0.835.186/remoting/host/heartbeat_sender_unittest.cc.jingle chromium-14.0.835.186/remoting/host/heartbeat_sender_unittest.cc
--- chromium-14.0.835.186/remoting/host/heartbeat_sender_unittest.cc.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/host/heartbeat_sender_unittest.cc	2011-09-27 10:52:19.381004068 -0400
@@ -15,8 +15,8 @@
 #include "remoting/jingle_glue/mock_objects.h"
 #include "testing/gmock/include/gmock/gmock.h"
 #include "testing/gtest/include/gtest/gtest.h"
-#include "third_party/libjingle/source/talk/xmllite/xmlelement.h"
-#include "third_party/libjingle/source/talk/xmpp/constants.h"
+#include <talk/xmllite/xmlelement.h>
+#include <talk/xmpp/constants.h>
 
 using buzz::QName;
 using buzz::XmlElement;
diff -up chromium-14.0.835.186/remoting/host/register_support_host_request.cc.jingle chromium-14.0.835.186/remoting/host/register_support_host_request.cc
--- chromium-14.0.835.186/remoting/host/register_support_host_request.cc.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/host/register_support_host_request.cc	2011-09-27 10:52:19.391004070 -0400
@@ -13,8 +13,8 @@
 #include "remoting/jingle_glue/iq_request.h"
 #include "remoting/jingle_glue/jingle_thread.h"
 #include "remoting/jingle_glue/signal_strategy.h"
-#include "third_party/libjingle/source/talk/xmllite/xmlelement.h"
-#include "third_party/libjingle/source/talk/xmpp/constants.h"
+#include <talk/xmllite/xmlelement.h>
+#include <talk/xmpp/constants.h>
 
 using buzz::QName;
 using buzz::XmlElement;
diff -up chromium-14.0.835.186/remoting/host/register_support_host_request_unittest.cc.jingle chromium-14.0.835.186/remoting/host/register_support_host_request_unittest.cc
--- chromium-14.0.835.186/remoting/host/register_support_host_request_unittest.cc.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/host/register_support_host_request_unittest.cc	2011-09-27 10:52:19.399004069 -0400
@@ -16,8 +16,8 @@
 #include "remoting/jingle_glue/mock_objects.h"
 #include "testing/gmock/include/gmock/gmock.h"
 #include "testing/gtest/include/gtest/gtest.h"
-#include "third_party/libjingle/source/talk/xmllite/xmlelement.h"
-#include "third_party/libjingle/source/talk/xmpp/constants.h"
+#include <talk/xmllite/xmlelement.h>
+#include <talk/xmpp/constants.h>
 
 using buzz::QName;
 using buzz::XmlElement;
diff -up chromium-14.0.835.186/remoting/jingle_glue/fake_signal_strategy.cc.jingle chromium-14.0.835.186/remoting/jingle_glue/fake_signal_strategy.cc
--- chromium-14.0.835.186/remoting/jingle_glue/fake_signal_strategy.cc.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/jingle_glue/fake_signal_strategy.cc	2011-09-27 10:52:19.406004068 -0400
@@ -9,8 +9,8 @@
 #include "base/message_loop.h"
 #include "base/stl_util.h"
 #include "base/string_number_conversions.h"
-#include "third_party/libjingle/source/talk/xmllite/xmlelement.h"
-#include "third_party/libjingle/source/talk/xmpp/constants.h"
+#include <talk/xmllite/xmlelement.h>
+#include <talk/xmpp/constants.h>
 
 namespace remoting {
 
diff -up chromium-14.0.835.186/remoting/jingle_glue/host_resolver.h.jingle chromium-14.0.835.186/remoting/jingle_glue/host_resolver.h
--- chromium-14.0.835.186/remoting/jingle_glue/host_resolver.h.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/jingle_glue/host_resolver.h	2011-09-27 10:52:19.415004070 -0400
@@ -8,8 +8,8 @@
 #include <string>
 
 #include "base/basictypes.h"
-#include "third_party/libjingle/source/talk/base/sigslot.h"
-#include "third_party/libjingle/source/talk/base/socketaddress.h"
+#include <talk/base/sigslot.h>
+#include <talk/base/socketaddress.h>
 
 namespace remoting {
 
diff -up chromium-14.0.835.186/remoting/jingle_glue/http_port_allocator.h.jingle chromium-14.0.835.186/remoting/jingle_glue/http_port_allocator.h
--- chromium-14.0.835.186/remoting/jingle_glue/http_port_allocator.h.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/jingle_glue/http_port_allocator.h	2011-09-27 10:52:19.427004069 -0400
@@ -13,7 +13,7 @@
 #include <vector>
 
 #include "base/memory/scoped_ptr.h"
-#include "third_party/libjingle/source/talk/p2p/client/httpportallocator.h"
+#include <talk/p2p/client/httpportallocator.h>
 
 namespace remoting {
 
diff -up chromium-14.0.835.186/remoting/jingle_glue/iq_request.cc.jingle chromium-14.0.835.186/remoting/jingle_glue/iq_request.cc
--- chromium-14.0.835.186/remoting/jingle_glue/iq_request.cc.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/jingle_glue/iq_request.cc	2011-09-27 10:52:19.432004069 -0400
@@ -1,11 +1,12 @@
+
 // Copyright (c) 2011 The Chromium Authors. All rights reserved.
 // Use of this source code is governed by a BSD-style license that can be
 // found in the LICENSE file.
 
 #include "remoting/jingle_glue/iq_request.h"
 
-#include "third_party/libjingle/source/talk/xmllite/xmlelement.h"
-#include "third_party/libjingle/source/talk/xmpp/constants.h"
+#include <talk/xmllite/xmlelement.h>
+#include <talk/xmpp/constants.h>
 
 namespace remoting {
 
diff -up chromium-14.0.835.186/remoting/jingle_glue/iq_request_unittest.cc.jingle chromium-14.0.835.186/remoting/jingle_glue/iq_request_unittest.cc
--- chromium-14.0.835.186/remoting/jingle_glue/iq_request_unittest.cc.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/jingle_glue/iq_request_unittest.cc	2011-09-27 10:52:19.443004072 -0400
@@ -7,7 +7,7 @@
 #include "remoting/jingle_glue/iq_request.h"
 #include "testing/gmock/include/gmock/gmock.h"
 #include "testing/gtest/include/gtest/gtest.h"
-#include "third_party/libjingle/source/talk/xmllite/xmlelement.h"
+#include <talk/xmllite/xmlelement.h>
 
 namespace remoting {
 
diff -up chromium-14.0.835.186/remoting/jingle_glue/javascript_iq_request.cc.jingle chromium-14.0.835.186/remoting/jingle_glue/javascript_iq_request.cc
--- chromium-14.0.835.186/remoting/jingle_glue/javascript_iq_request.cc.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/jingle_glue/javascript_iq_request.cc	2011-09-27 10:52:19.448004069 -0400
@@ -7,8 +7,8 @@
 #include "base/logging.h"
 #include "base/string_number_conversions.h"
 #include "remoting/jingle_glue/signal_strategy.h"
-#include "third_party/libjingle/source/talk/xmllite/xmlelement.h"
-#include "third_party/libjingle/source/talk/xmpp/constants.h"
+#include <talk/xmllite/xmlelement.h>
+#include <talk/xmpp/constants.h>
 
 namespace remoting {
 
diff -up chromium-14.0.835.186/remoting/jingle_glue/javascript_signal_strategy.cc.jingle chromium-14.0.835.186/remoting/jingle_glue/javascript_signal_strategy.cc
--- chromium-14.0.835.186/remoting/jingle_glue/javascript_signal_strategy.cc.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/jingle_glue/javascript_signal_strategy.cc	2011-09-27 10:52:19.459004072 -0400
@@ -10,7 +10,7 @@
 #include "base/string_number_conversions.h"
 #include "remoting/jingle_glue/iq_request.h"
 #include "remoting/jingle_glue/xmpp_proxy.h"
-#include "third_party/libjingle/source/talk/xmllite/xmlelement.h"
+#include <talk/xmllite/xmlelement.h>
 
 namespace remoting {
 
diff -up chromium-14.0.835.186/remoting/jingle_glue/jingle_info_request.cc.jingle chromium-14.0.835.186/remoting/jingle_glue/jingle_info_request.cc
--- chromium-14.0.835.186/remoting/jingle_glue/jingle_info_request.cc.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/jingle_glue/jingle_info_request.cc	2011-09-27 10:52:19.469004069 -0400
@@ -11,9 +11,9 @@
 #include "net/base/net_util.h"
 #include "remoting/jingle_glue/host_resolver.h"
 #include "remoting/jingle_glue/iq_request.h"
-#include "third_party/libjingle/source/talk/base/socketaddress.h"
-#include "third_party/libjingle/source/talk/xmllite/xmlelement.h"
-#include "third_party/libjingle/source/talk/xmpp/constants.h"
+#include <talk/base/socketaddress.h>
+#include <talk/xmllite/xmlelement.h>
+#include <talk/xmpp/constants.h>
 
 namespace remoting {
 
diff -up chromium-14.0.835.186/remoting/jingle_glue/jingle_info_request.h.jingle chromium-14.0.835.186/remoting/jingle_glue/jingle_info_request.h
--- chromium-14.0.835.186/remoting/jingle_glue/jingle_info_request.h.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/jingle_glue/jingle_info_request.h	2011-09-27 10:52:19.474004069 -0400
@@ -12,7 +12,7 @@
 #include "base/basictypes.h"
 #include "base/callback.h"
 #include "base/memory/scoped_ptr.h"
-#include "third_party/libjingle/source/talk/base/sigslot.h"
+#include <talk/base/sigslot.h>
 
 class Task;
 
diff -up chromium-14.0.835.186/remoting/jingle_glue/jingle_signaling_connector.cc.jingle chromium-14.0.835.186/remoting/jingle_glue/jingle_signaling_connector.cc
--- chromium-14.0.835.186/remoting/jingle_glue/jingle_signaling_connector.cc.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/jingle_glue/jingle_signaling_connector.cc	2011-09-27 10:52:19.483004069 -0400
@@ -7,9 +7,9 @@
 #include "base/logging.h"
 #include "base/stl_util.h"
 #include "remoting/jingle_glue/javascript_iq_request.h"
-#include "third_party/libjingle/source/talk/p2p/base/sessionmanager.h"
-#include "third_party/libjingle/source/talk/xmpp/constants.h"
-#include "third_party/libjingle/source/talk/xmpp/xmppclient.h"
+#include <talk/p2p/base/sessionmanager.h>
+#include <talk/xmpp/constants.h>
+#include <talk/xmpp/xmppclient.h>
 
 namespace remoting {
 
diff -up chromium-14.0.835.186/remoting/jingle_glue/jingle_signaling_connector.h.jingle chromium-14.0.835.186/remoting/jingle_glue/jingle_signaling_connector.h
--- chromium-14.0.835.186/remoting/jingle_glue/jingle_signaling_connector.h.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/jingle_glue/jingle_signaling_connector.h	2011-09-27 10:52:19.491004070 -0400
@@ -10,7 +10,7 @@
 #include "base/basictypes.h"
 #include "base/memory/scoped_ptr.h"
 #include "remoting/jingle_glue/signal_strategy.h"
-#include "third_party/libjingle/source/talk/base/sigslot.h"
+#include <talk/base/sigslot.h>
 
 namespace buzz {
 class XmlElement;
diff -up chromium-14.0.835.186/remoting/jingle_glue/jingle_thread.cc.jingle chromium-14.0.835.186/remoting/jingle_glue/jingle_thread.cc
--- chromium-14.0.835.186/remoting/jingle_glue/jingle_thread.cc.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/jingle_glue/jingle_thread.cc	2011-09-27 10:52:19.499004069 -0400
@@ -8,7 +8,7 @@
 #include "base/logging.h"
 #include "base/message_pump.h"
 #include "base/time.h"
-#include "third_party/libjingle/source/talk/base/ssladapter.h"
+#include <talk/base/ssladapter.h>
 
 namespace remoting {
 
diff -up chromium-14.0.835.186/remoting/jingle_glue/jingle_thread.h.jingle chromium-14.0.835.186/remoting/jingle_glue/jingle_thread.h
--- chromium-14.0.835.186/remoting/jingle_glue/jingle_thread.h.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/jingle_glue/jingle_thread.h	2011-09-27 10:52:19.510004070 -0400
@@ -8,9 +8,9 @@
 #include "base/message_loop.h"
 #include "base/tracked_objects.h"
 #include "base/synchronization/waitable_event.h"
-#include "third_party/libjingle/source/talk/base/messagequeue.h"
-#include "third_party/libjingle/source/talk/base/taskrunner.h"
-#include "third_party/libjingle/source/talk/base/thread.h"
+#include <talk/base/messagequeue.h>
+#include <talk/base/taskrunner.h>
+#include <talk/base/thread.h>
 
 namespace buzz {
 class XmppClient;
diff -up chromium-14.0.835.186/remoting/jingle_glue/ssl_socket_adapter.h.jingle chromium-14.0.835.186/remoting/jingle_glue/ssl_socket_adapter.h
--- chromium-14.0.835.186/remoting/jingle_glue/ssl_socket_adapter.h.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/jingle_glue/ssl_socket_adapter.h	2011-09-27 10:52:19.517004070 -0400
@@ -12,8 +12,8 @@
 #include "net/base/net_log.h"
 #include "net/socket/ssl_client_socket.h"
 #include "net/socket/stream_socket.h"
-#include "third_party/libjingle/source/talk/base/asyncsocket.h"
-#include "third_party/libjingle/source/talk/base/ssladapter.h"
+#include <talk/base/asyncsocket.h>
+#include <talk/base/ssladapter.h>
 
 namespace net {
 class CertVerifier;
diff -up chromium-14.0.835.186/remoting/jingle_glue/xmpp_iq_request.cc.jingle chromium-14.0.835.186/remoting/jingle_glue/xmpp_iq_request.cc
--- chromium-14.0.835.186/remoting/jingle_glue/xmpp_iq_request.cc.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/jingle_glue/xmpp_iq_request.cc	2011-09-27 10:52:19.524004069 -0400
@@ -6,8 +6,8 @@
 
 #include "base/memory/scoped_ptr.h"
 #include "base/message_loop.h"
-#include "third_party/libjingle/source/talk/xmpp/constants.h"
-#include "third_party/libjingle/source/talk/xmpp/xmppclient.h"
+#include <talk/xmpp/constants.h>
+#include <talk/xmpp/xmppclient.h>
 
 namespace remoting {
 
diff -up chromium-14.0.835.186/remoting/jingle_glue/xmpp_iq_request.h.jingle chromium-14.0.835.186/remoting/jingle_glue/xmpp_iq_request.h
--- chromium-14.0.835.186/remoting/jingle_glue/xmpp_iq_request.h.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/jingle_glue/xmpp_iq_request.h	2011-09-27 10:56:50.639015685 -0400
@@ -7,8 +7,9 @@
 
 #include "base/compiler_specific.h"
 #include "remoting/jingle_glue/iq_request.h"
-#include "third_party/libjingle/source/talk/base/sigslot.h"
-#include "third_party/libjingle/source/talk/xmpp/xmppengine.h"
+#include <talk/base/sigslot.h>
+#include <talk/xmpp/xmppengine.h>
+#include <talk/base/scoped_ptr.h>
 
 class MessageLoop;
 
@@ -44,7 +45,7 @@ class XmppIqRequest : public IqRequest,
   MessageLoop* message_loop_;
   buzz::XmppClient* xmpp_client_;
   buzz::XmppIqCookie cookie_;
-  scoped_ptr<ReplyCallback> callback_;
+  talk_base::scoped_ptr<ReplyCallback> callback_;
 };
 
 }  // namespace remoting
diff -up chromium-14.0.835.186/remoting/jingle_glue/xmpp_signal_strategy.cc.jingle chromium-14.0.835.186/remoting/jingle_glue/xmpp_signal_strategy.cc
--- chromium-14.0.835.186/remoting/jingle_glue/xmpp_signal_strategy.cc.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/jingle_glue/xmpp_signal_strategy.cc	2011-09-27 10:52:19.545004070 -0400
@@ -9,9 +9,9 @@
 #include "remoting/jingle_glue/jingle_thread.h"
 #include "remoting/jingle_glue/xmpp_iq_request.h"
 #include "remoting/jingle_glue/xmpp_socket_adapter.h"
-#include "third_party/libjingle/source/talk/base/asyncsocket.h"
-#include "third_party/libjingle/source/talk/xmpp/prexmppauth.h"
-#include "third_party/libjingle/source/talk/xmpp/saslcookiemechanism.h"
+#include <talk/base/asyncsocket.h>
+#include <talk/xmpp/prexmppauth.h>
+#include <talk/xmpp/saslcookiemechanism.h>
 
 namespace remoting {
 
diff -up chromium-14.0.835.186/remoting/jingle_glue/xmpp_signal_strategy.h.jingle chromium-14.0.835.186/remoting/jingle_glue/xmpp_signal_strategy.h
--- chromium-14.0.835.186/remoting/jingle_glue/xmpp_signal_strategy.h.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/jingle_glue/xmpp_signal_strategy.h	2011-09-27 10:52:19.551004070 -0400
@@ -13,8 +13,8 @@
 #include "remoting/jingle_glue/signal_strategy.h"
 
 #include "base/compiler_specific.h"
-#include "third_party/libjingle/source/talk/base/sigslot.h"
-#include "third_party/libjingle/source/talk/xmpp/xmppclient.h"
+#include <talk/base/sigslot.h>
+#include <talk/xmpp/xmppclient.h>
 
 namespace remoting {
 
diff -up chromium-14.0.835.186/remoting/jingle_glue/xmpp_socket_adapter.cc.jingle chromium-14.0.835.186/remoting/jingle_glue/xmpp_socket_adapter.cc
--- chromium-14.0.835.186/remoting/jingle_glue/xmpp_socket_adapter.cc.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/jingle_glue/xmpp_socket_adapter.cc	2011-09-27 10:52:19.557004070 -0400
@@ -9,14 +9,14 @@
 
 #include "base/logging.h"
 #include "remoting/jingle_glue/ssl_adapter.h"
-#include "third_party/libjingle/source/talk/base/byteorder.h"
-#include "third_party/libjingle/source/talk/base/common.h"
-#include "third_party/libjingle/source/talk/base/firewallsocketserver.h"
-#include "third_party/libjingle/source/talk/base/logging.h"
-#include "third_party/libjingle/source/talk/base/socketadapters.h"
-#include "third_party/libjingle/source/talk/base/ssladapter.h"
-#include "third_party/libjingle/source/talk/base/thread.h"
-#include "third_party/libjingle/source/talk/xmpp/xmppengine.h"
+#include <talk/base/byteorder.h>
+#include <talk/base/common.h>
+#include <talk/base/firewallsocketserver.h>
+#include <talk/base/logging.h>
+#include <talk/base/socketadapters.h>
+#include <talk/base/ssladapter.h>
+#include <talk/base/thread.h>
+#include <talk/xmpp/xmppengine.h>
 
 namespace remoting {
 
diff -up chromium-14.0.835.186/remoting/jingle_glue/xmpp_socket_adapter.h.jingle chromium-14.0.835.186/remoting/jingle_glue/xmpp_socket_adapter.h
--- chromium-14.0.835.186/remoting/jingle_glue/xmpp_socket_adapter.h.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/jingle_glue/xmpp_socket_adapter.h	2011-09-27 10:52:19.567004069 -0400
@@ -7,10 +7,10 @@
 
 #include <string>
 
-#include "third_party/libjingle/source/talk/base/asyncsocket.h"
-#include "third_party/libjingle/source/talk/xmpp/asyncsocket.h"
-#include "third_party/libjingle/source/talk/xmpp/xmppclientsettings.h"
-#include "third_party/libjingle/source/talk/xmpp/xmppengine.h"
+#include <talk/base/asyncsocket.h>
+#include <talk/xmpp/asyncsocket.h>
+#include <talk/xmpp/xmppclientsettings.h>
+#include <talk/xmpp/xmppengine.h>
 
 #ifndef _WIN32
 // Additional errors used by us from Win32 headers.
diff -up chromium-14.0.835.186/remoting/protocol/content_description.cc.jingle chromium-14.0.835.186/remoting/protocol/content_description.cc
--- chromium-14.0.835.186/remoting/protocol/content_description.cc.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/protocol/content_description.cc	2011-09-27 10:52:19.577004069 -0400
@@ -9,7 +9,7 @@
 #include "base/string_number_conversions.h"
 #include "remoting/base/constants.h"
 #include "remoting/proto/auth.pb.h"
-#include "third_party/libjingle/source/talk/xmllite/xmlelement.h"
+#include <talk/xmllite/xmlelement.h>
 
 using buzz::QName;
 using buzz::XmlElement;
diff -up chromium-14.0.835.186/remoting/protocol/content_description.h.jingle chromium-14.0.835.186/remoting/protocol/content_description.h
--- chromium-14.0.835.186/remoting/protocol/content_description.h.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/protocol/content_description.h	2011-09-27 10:52:19.584004069 -0400
@@ -10,7 +10,7 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/memory/ref_counted.h"
 #include "remoting/protocol/session_config.h"
-#include "third_party/libjingle/source/talk/p2p/base/sessiondescription.h"
+#include <talk/p2p/base/sessiondescription.h>
 
 namespace buzz {
 class XmlElement;
diff -up chromium-14.0.835.186/remoting/protocol/jingle_session.cc.jingle chromium-14.0.835.186/remoting/protocol/jingle_session.cc
--- chromium-14.0.835.186/remoting/protocol/jingle_session.cc.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/protocol/jingle_session.cc	2011-09-27 10:52:19.591004069 -0400
@@ -16,10 +16,10 @@
 #include "remoting/protocol/jingle_datagram_connector.h"
 #include "remoting/protocol/jingle_session_manager.h"
 #include "remoting/protocol/jingle_stream_connector.h"
-#include "third_party/libjingle/source/talk/base/thread.h"
-#include "third_party/libjingle/source/talk/p2p/base/p2ptransportchannel.h"
-#include "third_party/libjingle/source/talk/p2p/base/session.h"
-#include "third_party/libjingle/source/talk/p2p/base/transport.h"
+#include <talk/base/thread.h>
+#include <talk/p2p/base/p2ptransportchannel.h>
+#include <talk/p2p/base/session.h>
+#include <talk/p2p/base/transport.h>
 
 using cricket::BaseSession;
 
diff -up chromium-14.0.835.186/remoting/protocol/jingle_session.h.jingle chromium-14.0.835.186/remoting/protocol/jingle_session.h
--- chromium-14.0.835.186/remoting/protocol/jingle_session.h.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/protocol/jingle_session.h	2011-09-27 10:52:19.602004070 -0400
@@ -10,8 +10,8 @@
 #include "crypto/rsa_private_key.h"
 #include "net/base/completion_callback.h"
 #include "remoting/protocol/session.h"
-#include "third_party/libjingle/source/talk/base/sigslot.h"
-#include "third_party/libjingle/source/talk/p2p/base/session.h"
+#include <talk/base/sigslot.h>
+#include <talk/p2p/base/session.h>
 
 namespace remoting {
 
diff -up chromium-14.0.835.186/remoting/protocol/jingle_session_manager.cc.jingle chromium-14.0.835.186/remoting/protocol/jingle_session_manager.cc
--- chromium-14.0.835.186/remoting/protocol/jingle_session_manager.cc.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/protocol/jingle_session_manager.cc	2011-09-27 10:52:19.609004070 -0400
@@ -16,12 +16,12 @@
 #include "remoting/jingle_glue/jingle_info_request.h"
 #include "remoting/jingle_glue/jingle_signaling_connector.h"
 #include "remoting/jingle_glue/signal_strategy.h"
-#include "third_party/libjingle/source/talk/base/basicpacketsocketfactory.h"
-#include "third_party/libjingle/source/talk/p2p/base/sessionmanager.h"
-#include "third_party/libjingle/source/talk/p2p/base/transport.h"
-#include "third_party/libjingle/source/talk/p2p/base/constants.h"
-#include "third_party/libjingle/source/talk/p2p/base/transport.h"
-#include "third_party/libjingle/source/talk/xmllite/xmlelement.h"
+#include <talk/base/basicpacketsocketfactory.h>
+#include <talk/p2p/base/sessionmanager.h>
+#include <talk/p2p/base/transport.h>
+#include <talk/p2p/base/constants.h>
+#include <talk/p2p/base/transport.h>
+#include <talk/xmllite/xmlelement.h>
 
 using buzz::XmlElement;
 
diff -up chromium-14.0.835.186/remoting/protocol/jingle_session_manager.h.jingle chromium-14.0.835.186/remoting/protocol/jingle_session_manager.h
--- chromium-14.0.835.186/remoting/protocol/jingle_session_manager.h.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/protocol/jingle_session_manager.h	2011-09-27 10:52:19.617004069 -0400
@@ -12,8 +12,8 @@
 #include "remoting/protocol/content_description.h"
 #include "remoting/protocol/jingle_session.h"
 #include "remoting/protocol/session_manager.h"
-#include "third_party/libjingle/source/talk/p2p/base/session.h"
-#include "third_party/libjingle/source/talk/p2p/base/sessionclient.h"
+#include <talk/p2p/base/session.h>
+#include <talk/p2p/base/sessionclient.h>
 
 namespace cricket {
 class PortAllocator;
diff -up chromium-14.0.835.186/remoting/protocol/jingle_session_unittest.cc.jingle chromium-14.0.835.186/remoting/protocol/jingle_session_unittest.cc
--- chromium-14.0.835.186/remoting/protocol/jingle_session_unittest.cc.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/protocol/jingle_session_unittest.cc	2011-09-27 10:52:19.627004070 -0400
@@ -19,7 +19,7 @@
 #include "remoting/jingle_glue/fake_signal_strategy.h"
 #include "testing/gmock/include/gmock/gmock.h"
 #include "testing/gtest/include/gtest/gtest.h"
-#include "third_party/libjingle/source/talk/p2p/client/basicportallocator.h"
+#include <talk/p2p/client/basicportallocator.h>
 
 using testing::_;
 using testing::AtMost;
diff -up chromium-14.0.835.186/remoting/protocol/message_decoder.cc.jingle chromium-14.0.835.186/remoting/protocol/message_decoder.cc
--- chromium-14.0.835.186/remoting/protocol/message_decoder.cc.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/protocol/message_decoder.cc	2011-09-27 10:52:19.638004070 -0400
@@ -8,7 +8,7 @@
 #include "net/base/io_buffer.h"
 #include "remoting/base/compound_buffer.h"
 #include "remoting/proto/internal.pb.h"
-#include "third_party/libjingle/source/talk/base/byteorder.h"
+#include <talk/base/byteorder.h>
 
 namespace remoting {
 namespace protocol {
diff -up chromium-14.0.835.186/remoting/protocol/message_reader_unittest.cc.jingle chromium-14.0.835.186/remoting/protocol/message_reader_unittest.cc
--- chromium-14.0.835.186/remoting/protocol/message_reader_unittest.cc.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/protocol/message_reader_unittest.cc	2011-09-27 10:52:19.645004070 -0400
@@ -10,7 +10,7 @@
 #include "remoting/protocol/message_reader.h"
 #include "testing/gtest/include/gtest/gtest.h"
 #include "testing/gmock/include/gmock/gmock.h"
-#include "third_party/libjingle/source/talk/base/byteorder.h"
+#include <talk/base/byteorder.h>
 
 using testing::_;
 using testing::DoAll;
diff -up chromium-14.0.835.186/remoting/protocol/rtp_utils.cc.jingle chromium-14.0.835.186/remoting/protocol/rtp_utils.cc
--- chromium-14.0.835.186/remoting/protocol/rtp_utils.cc.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/protocol/rtp_utils.cc	2011-09-27 10:52:19.651004070 -0400
@@ -5,7 +5,7 @@
 #include "remoting/protocol/rtp_utils.h"
 
 #include "base/logging.h"
-#include "third_party/libjingle/source/talk/base/byteorder.h"
+#include <talk/base/byteorder.h>
 
 using talk_base::GetBE16;
 using talk_base::GetBE32;
diff -up chromium-14.0.835.186/remoting/protocol/util.cc.jingle chromium-14.0.835.186/remoting/protocol/util.cc
--- chromium-14.0.835.186/remoting/protocol/util.cc.jingle	2011-09-20 04:26:06.000000000 -0400
+++ chromium-14.0.835.186/remoting/protocol/util.cc	2011-09-27 10:52:19.668004068 -0400
@@ -9,7 +9,7 @@
 #include "base/logging.h"
 #include "base/task.h"
 #include "net/base/io_buffer.h"
-#include "third_party/libjingle/source/talk/base/byteorder.h"
+#include <talk/base/byteorder.h>
 
 namespace {
 
diff -up chromium-14.0.835.186/remoting/remoting.gyp.jingle chromium-14.0.835.186/remoting/remoting.gyp
--- chromium-14.0.835.186/remoting/remoting.gyp.jingle	2011-09-20 04:26:07.000000000 -0400
+++ chromium-14.0.835.186/remoting/remoting.gyp	2011-09-27 10:52:19.679004070 -0400
@@ -526,12 +526,16 @@
         '../base/base.gyp:base',
         '../jingle/jingle.gyp:jingle_glue',
         '../jingle/jingle.gyp:notifier',
-        '../third_party/libjingle/libjingle.gyp:libjingle',
-        '../third_party/libjingle/libjingle.gyp:libjingle_p2p',
+        '../build/linux/system.gyp:jingle',
+        '../build/linux/system.gyp:jinglep2p',
+        '../build/linux/system.gyp:jinglesessionphone',
+        '../build/linux/system.gyp:jinglesessiontunnel',
       ],
       'export_dependent_settings': [
-        '../third_party/libjingle/libjingle.gyp:libjingle',
-        '../third_party/libjingle/libjingle.gyp:libjingle_p2p',
+        '../build/linux/system.gyp:jingle',
+        '../build/linux/system.gyp:jinglep2p',
+        '../build/linux/system.gyp:jinglesessionphone',
+        '../build/linux/system.gyp:jinglesessiontunnel',
       ],
       'sources': [
         'jingle_glue/host_resolver.cc',
