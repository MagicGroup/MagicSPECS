From b0d63f977a529a2a782ebf9473e4333416b9cc96 Mon Sep 17 00:00:00 2001
From: Mikolaj Izdebski <mizdebsk@redhat.com>
Date: Thu, 5 Dec 2013 14:36:05 +0100
Subject: [PATCH 2/2] Update to Plexus Classworlds 2.5

---
 .../org/codehaus/plexus/component/repository/ComponentDescriptor.java | 4 ++--
 .../org/codehaus/plexus/component/repository/ComponentDescriptor.java | 4 ++--
 pom.xml                                                               | 2 +-
 3 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/plexus-component-metadata/src/main/java/org/codehaus/plexus/component/repository/ComponentDescriptor.java b/plexus-component-metadata/src/main/java/org/codehaus/plexus/component/repository/ComponentDescriptor.java
index 1139d17..51e78ee 100644
--- a/plexus-component-metadata/src/main/java/org/codehaus/plexus/component/repository/ComponentDescriptor.java
+++ b/plexus-component-metadata/src/main/java/org/codehaus/plexus/component/repository/ComponentDescriptor.java
@@ -189,7 +189,7 @@ public class ComponentDescriptor<T>
         {
             try
             {
-                roleClass = realm.loadClass( role );
+                roleClass = (Class) realm.loadClass( role );
                 Thread.currentThread();
             }
             catch ( Throwable ignored )
@@ -299,7 +299,7 @@ public class ComponentDescriptor<T>
         {
             try
             {
-                implementationClass = realm.loadClass( implementation );
+                implementationClass = (Class) realm.loadClass( implementation );
                 Thread.currentThread();
             }
             catch ( Throwable ignored )
diff --git a/plexus-container-default/src/main/java/org/codehaus/plexus/component/repository/ComponentDescriptor.java b/plexus-container-default/src/main/java/org/codehaus/plexus/component/repository/ComponentDescriptor.java
index ef23e19..35fd85e 100644
--- a/plexus-container-default/src/main/java/org/codehaus/plexus/component/repository/ComponentDescriptor.java
+++ b/plexus-container-default/src/main/java/org/codehaus/plexus/component/repository/ComponentDescriptor.java
@@ -189,7 +189,7 @@ public class ComponentDescriptor<T>
         {
             try
             {
-                roleClass = getRealm().loadClass( getRole() );
+                roleClass = (Class) getRealm().loadClass( getRole() );
                 Thread.currentThread();
             }
             catch ( Throwable ignored )
@@ -299,7 +299,7 @@ public class ComponentDescriptor<T>
         {
             try
             {
-                implementationClass = getRealm().loadClass( getImplementation() );
+                implementationClass = (Class) getRealm().loadClass( getImplementation() );
                 Thread.currentThread();
             }
             catch ( Throwable ignored )
diff --git a/pom.xml b/pom.xml
index 890fca3..b262fe0 100644
--- a/pom.xml
+++ b/pom.xml
@@ -31,7 +31,7 @@
   </scm>
 
   <properties>
-    <classWorldsVersion>2.2.2</classWorldsVersion>
+    <classWorldsVersion>2.5</classWorldsVersion>
     <plexusUtilsVersion>1.4.5</plexusUtilsVersion>
     <xbeanReflectVersion>3.4</xbeanReflectVersion>
     <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
-- 
1.8.1.4

