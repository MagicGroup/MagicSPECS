From 03dd312e157d4fa8a11d5fa402706ae5b05806fa Mon Sep 17 00:00:00 2001
From: Lionel Le Folgoc <lionel@lefolgoc.net>
Date: Fri, 15 Apr 2011 11:12:38 +0000
Subject: Don't interpret file display names as format strings

This avoids a segfault when copying/moving files containing "%" formatters
in their name.

Signed-off-by: Jannis Pohlmann <jannis@xfce.org>
---
diff --git a/thunar/thunar-transfer-job.c b/thunar/thunar-transfer-job.c
index f77839f..c38cf85 100644
--- a/thunar/thunar-transfer-job.c
+++ b/thunar/thunar-transfer-job.c
@@ -534,7 +534,7 @@ thunar_transfer_job_copy_node (ThunarTransferJob  *job,
         }
 
       /* update progress information */
-      exo_job_info_message (EXO_JOB (job), g_file_info_get_display_name (info));
+      exo_job_info_message (EXO_JOB (job), "%s", g_file_info_get_display_name (info));
 
 retry_copy:
       /* copy the item specified by this node (not recursively) */
--
cgit v0.8.3.4
