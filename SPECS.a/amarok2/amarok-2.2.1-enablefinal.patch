diff -Nuarp amarok-2.2.1/src/CMakeLists.txt amarok-2.2.1.fix_enablefinal/src/CMakeLists.txt
--- amarok-2.2.1/src/CMakeLists.txt	2009-11-12 05:09:12.000000000 +0800
+++ amarok-2.2.1.fix_enablefinal/src/CMakeLists.txt	2009-12-29 18:25:12.000000000 +0800
@@ -1,3 +1,4 @@
+kde4_no_enable_final(libamarok)
 ADD_DEFINITIONS(${TAGLIB_CFLAGS} ${TAGLIB-EXTRAS_CFLAGS})
 
 if(APPLE)
