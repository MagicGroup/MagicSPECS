From 1183d0c1ab9b567e085e30006b984a578f4a6a88 Mon Sep 17 00:00:00 2001
From: Tim-Philipp MÃ¼ller <tim.muller@collabora.co.uk>
Date: Mon, 23 May 2011 12:23:21 +0000
Subject: flacparse: make conversion from TIME to DEFAULT format (samples) work

Fix copy'n'paste error in the previous commit.
---
(limited to 'gst/audioparsers/gstflacparse.c')

diff --git a/gst/audioparsers/gstflacparse.c b/gst/audioparsers/gstflacparse.c
index 0c76655..0995d79 100644
--- a/gst/audioparsers/gstflacparse.c
+++ b/gst/audioparsers/gstflacparse.c
@@ -1372,7 +1372,8 @@ gst_flac_parse_convert (GstBaseParse * parse,
       else
         *dest_value = -1;
       return TRUE;
-    } else if (src_format == GST_FORMAT_TIME && dest_format == GST_FORMAT_TIME) {
+    } else if (src_format == GST_FORMAT_TIME &&
+        dest_format == GST_FORMAT_DEFAULT) {
       if (src_value != -1)
         *dest_value =
             gst_util_uint64_scale (src_value, flacparse->samplerate,
--
cgit v0.9.0.2-2-gbebe

