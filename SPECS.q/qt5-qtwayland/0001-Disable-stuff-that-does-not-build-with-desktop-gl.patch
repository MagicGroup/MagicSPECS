From ec24a608177ceed554cca66dec04a786c6701731 Mon Sep 17 00:00:00 2001
From: Lubomir Rintel <lkundrak@v3.sk>
Date: Fri, 14 Feb 2014 18:48:04 +0100
Subject: [PATCH] Disable stuff that does not build with desktop gl

Change-Id: I71f1436414e02247b12f5fb0b58a40068a70c202
---
 examples/server-buffer/server-buffer.pro                  | 3 ++-
 src/plugins/hardwareintegration/compositor/compositor.pro | 4 ++--
 src/plugins/platforms/platforms.pro                       | 4 ++--
 3 files changed, 6 insertions(+), 5 deletions(-)

diff --git a/examples/server-buffer/server-buffer.pro b/examples/server-buffer/server-buffer.pro
index 16c5562..470c6a4 100644
--- a/examples/server-buffer/server-buffer.pro
+++ b/examples/server-buffer/server-buffer.pro
@@ -1,3 +1,4 @@
 TEMPLATE=subdirs
 
-SUBDIRS += client compositor
+#SUBDIRS += client compositor
+SUBDIRS += compositor
diff --git a/src/plugins/hardwareintegration/compositor/compositor.pro b/src/plugins/hardwareintegration/compositor/compositor.pro
index 3c1ff5d..0221c04 100644
--- a/src/plugins/hardwareintegration/compositor/compositor.pro
+++ b/src/plugins/hardwareintegration/compositor/compositor.pro
@@ -9,8 +9,8 @@ config_xcomposite {
     config_egl: \
         SUBDIRS += xcomposite-egl
 
-    !contains(QT_CONFIG, opengles2):config_glx: \
-        SUBDIRS += xcomposite-glx
+#    !contains(QT_CONFIG, opengles2):config_glx: \
+#        SUBDIRS += xcomposite-glx
 }
 
 config_drm_egl_server: \
diff --git a/src/plugins/platforms/platforms.pro b/src/plugins/platforms/platforms.pro
index 0665511..7b10fad 100644
--- a/src/plugins/platforms/platforms.pro
+++ b/src/plugins/platforms/platforms.pro
@@ -15,8 +15,8 @@ contains(CONFIG, wayland-compositor) {
     config_xcomposite {
         config_egl: \
             SUBDIRS += qwayland-xcomposite-egl
-        !contains(QT_CONFIG, opengles2):config_glx: \
-            SUBDIRS += qwayland-xcomposite-glx
+#        !contains(QT_CONFIG, opengles2):config_glx: \
+#            SUBDIRS += qwayland-xcomposite-glx
     }
 }
 
-- 
1.8.5.3

