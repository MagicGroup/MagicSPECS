From 28336bc000520e89670ce29360697a71a42b5e24 Mon Sep 17 00:00:00 2001
From: Adheer Chandravanshi <adheer.chandravanshi@qlogic.com>
Date: Fri, 22 Mar 2013 07:35:52 -0400
Subject: Manpage changes for flashnode submode support for host mode.

Signed-off-by: Adheer Chandravanshi <adheer.chandravanshi@qlogic.com>
Signed-off-by: Vikas Chaudhary <vikas.chaudhary@qlogic.com>
---
 doc/iscsiadm.8 | 35 +++++++++++++++++++++++++++++++----
 1 file changed, 31 insertions(+), 4 deletions(-)

diff --git a/doc/iscsiadm.8 b/doc/iscsiadm.8
index 7c209f6..b4c7388 100644
--- a/doc/iscsiadm.8
+++ b/doc/iscsiadm.8
@@ -16,7 +16,7 @@ iscsiadm \- open-iscsi administration utility
 
 \fBiscsiadm\fR \-m fw [\-l]
 
-\fBiscsiadm\fR \-m host [ \-P printlevel ] [ \-H hostno|MAC ] [ -C chap [ -o operation ] [ -v chap_tbl_idx ] ]
+\fBiscsiadm\fR \-m host [ \-P printlevel ] [ \-H hostno|MAC ] [ [ \-C chap [ \-o operation ] [ \-v chap_tbl_idx ] ] | [ \-C flashnode [ \-o operation ] [ \-A portal_type ] [ \-x flashnode_idx ] [ \-n name ] [ \-v value ] ] ]
 
 \fBiscsiadm\fR \-k priority
 
@@ -47,6 +47,12 @@ daemon (iscsid) be running.
 This option is only valid for ping submode.
 
 .TP
+\fB\-A\fR, \fB\-\-portal_type=\fI[ipv4|ipv6]\fR
+Specify the portal type for the new flash node entry to be created.
+.IP
+This option is only valid for flashnode submode of host mode and only with \fInew\fR operation.
+
+.TP
 \fB\-b\fR, \fB\-\-packetsize=\fIpacketsize\fP
 Specify the ping \fIpacketsize\fR.
 
@@ -66,6 +72,12 @@ Currently iscsiadm support ping as submode for iface. For example,
 
 iscsiadm -m iface -I ifacename -C ping -a ipaddr -b packetsize -c count -i interval
 
+For host, it supports chap and flashnode as submodes. For example,
+
+iscsiadm -m host -H hostno -C chap -v chap_tbl_idx -o operation
+
+iscsiadm -m host -H hostno -C flashnode -x flashnode_idx -o operation
+
 .TP
 \fB\-d\fR, \fB\-\-debug=\fIdebug_level\fP
 print debugging information. Valid values for debug_level are 0 to 8.
@@ -170,8 +182,9 @@ for \fIiface\fR, all ifaces setup in /etc/iscsi/ifaces are displayed.
 
 .TP
 \fB\-n\fR, \fB\-\-name=\fIname\fR
-Specify a field \fIname\fR in a record. For use with the \fIupdate\fR
-operator.
+In node mode, specify a field \fIname\fR in a record. In flashnode submode of host mode, specify name of the flash node parameter.
+
+For use with the \fIupdate\fR operator.
 .IP
 
 .TP
@@ -181,6 +194,8 @@ Specifies a database operator \fIop\fR. \fIop\fR must be one of
 .IP
 For iface mode, \fIapply\fR and \fIapplyall\fR  are also applicable.
 .IP
+For flashnode submode of host mode, \fIlogin\fR and \fIlogout\fR are also applicable.
+.IP
 This option is valid for all modes except fw. Delete should not be used on a running session. If it is iscsiadm will stop the session and then delete the
 record.
 .IP
@@ -210,6 +225,12 @@ sid is passed in.
 .IP
 \fIapplyall\fR will cause the network settings to take effect on all the ifaces whose MAC address or host number matches that of the specific host.
 
+.IP
+\fIlogin\fR will log into the specified flash node entry.
+
+.IP
+\fIlogout\fR does the logout from the given flash node entry.
+
 .TP
 \fB\-p\fR, \fB\-\-portal=\fIip[:port]\fR
 Use target portal with ip-address \fIip\fR and \fIport\fR. If port is not passed
@@ -292,12 +313,18 @@ for session mode).
 \fB\-v\fR, \fB\-\-value=\fIvalue\fR
 Specify a \fIvalue\fR for use with the \fIupdate\fR operator.
 .IP
-This option is only valid for node mode.
+This option is only valid for node mode and flashnode submode of host mode.
 
 .TP
 \fB\-V\fR, \fB\-\-version\fR
 display version and exit
 
+.TP
+\fB\-x\fR, \fB\-\-flashnode_idx=\fIindex\fR
+Specify the \fIindex\fR of the flash node to operate on.
+.IP
+This option is only valid for flashnode submode of host mode.
+
 .SH DISCOVERY TYPES
 iSCSI defines 3 discovery types: SendTargets, SLP, and iSNS.
 
-- 
1.8.1.4

