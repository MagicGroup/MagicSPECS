From 2d0a0570b4d067f0b4e100f0cbab190efcfe3c67 Mon Sep 17 00:00:00 2001
From: Mike Christie <michaelc@cs.wisc.edu>
Date: Wed, 29 May 2013 12:00:40 -0500
Subject: iscsid/iscsiadm: add support for emulex one connect storage

From Chris Moore.

Add support for emulex one connect storage driver.
---
 iscsiuio/config.status | 0
 usr/transport.c        | 8 ++++++++
 2 files changed, 8 insertions(+)
 mode change 100644 => 100755 iscsiuio/config.status

diff --git a/iscsiuio/config.status b/iscsiuio/config.status
old mode 100644
new mode 100755
diff --git a/usr/transport.c b/usr/transport.c
index 10212af..52b7674 100644
--- a/usr/transport.c
+++ b/usr/transport.c
@@ -99,6 +99,13 @@ struct iscsi_transport_template qla4xxx = {
 	.ep_disconnect	= ktransport_ep_disconnect,
 };
 
+struct iscsi_transport_template ocs = {
+	.name		= "ocs",
+	.ep_connect	= ktransport_ep_connect,
+	.ep_poll	= ktransport_ep_poll,
+	.ep_disconnect	= ktransport_ep_disconnect,
+};
+
 static struct iscsi_transport_template *iscsi_transport_templates[] = {
 	&iscsi_tcp,
 	&iscsi_iser,
@@ -107,6 +114,7 @@ static struct iscsi_transport_template *iscsi_transport_templates[] = {
 	&bnx2i,
 	&qla4xxx,
 	&be2iscsi,
+	&ocs,
 	NULL
 };
 
-- 
1.8.1.4

